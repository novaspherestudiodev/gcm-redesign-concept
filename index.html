<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCM | Command Center</title>
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- BACKGROUND SYSTEM (Particles) -->
    <canvas id="neural-net"></canvas>

    <!-- NAVIGATION (Fixed Glass Bar) -->
    <nav id="navbar">
        <div class="logo">GCM <span class="gold-text">NEXUS</span></div>
        <div class="nav-links">
            <button class="nav-btn" onclick="navigateTo('landing')">Home</button>
            <button class="nav-btn" onclick="navigateTo('auth', 'login')">Member Portal</button>
            <button class="nav-btn" onclick="window.open('https://ghanachamberofmines.org', '_blank')">Legacy Site</button>
        </div>
    </nav>

    <!-- === VIEW 1: LANDING PAGE === -->
    <section id="view-landing" class="view active-view">
        <div class="hero-content">
            <div class="badge">EST. 1928</div>
            <h1 class="glitch-text" data-text="MINING INTELLIGENCE">MINING INTELLIGENCE</h1>
            <p class="subtitle">Advancing the industry through data-driven governance and transparency.</p>
            <div class="cta-row">
                <button class="btn primary-btn" onclick="navigateTo('auth', 'signup')">BECOME A MEMBER</button>
                <button class="btn secondary-btn" onclick="navigateTo('auth', 'login')">ACCESS DATA HUB</button>
            </div>
        </div>
        
        <!-- Live Ticker -->
        <div class="ticker-wrap">
            <div class="ticker">
                <div class="ticker-item">GOLD: $2,045/oz <span class="up">▲</span></div>
                <div class="ticker-item">MANGANESE: STABLE</div>
                <div class="ticker-item">BAUXITE: PRODUCTION UP 4%</div>
                <div class="ticker-item">GCM AGM: JAN 31st 2026</div>
            </div>
        </div>
    </section>

    <!-- === VIEW 2: AUTH === -->
    <section id="view-auth" class="view hidden-view">
        <div class="auth-container" id="auth-container">
            <!-- SIGN UP -->
            <div class="form-container sign-up-container">
                <form onsubmit="handleAuth(event, 'signup')">
                    <h1>Create Account</h1>
                    <div class="social-container">
                        <a href="#" class="social"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social"><i class="fab fa-google"></i></a>
                    </div>
                    <span>or use your corporate email</span>
                    <input type="text" placeholder="Company Name" required />
                    <input type="email" placeholder="Email" required />
                    <input type="password" placeholder="Password" required />
                    <button type="submit" class="btn primary-btn">Request Access</button>
                </form>
            </div>
            <!-- LOGIN -->
            <div class="form-container sign-in-container">
                <form onsubmit="handleAuth(event, 'login')">
                    <h1>Member Login</h1>
                    <div class="social-container">
                        <a href="#" class="social"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social"><i class="fab fa-google"></i></a>
                    </div>
                    <span>use your assigned credentials</span>
                    <input type="email" placeholder="Email" id="login-email" required />
                    <input type="password" placeholder="Password" required />
                    <a href="#">Forgot your password?</a>
                    <button type="submit" class="btn primary-btn" id="login-btn">
                        <span id="login-text">Sign In</span>
                        <div class="loader" id="login-loader"></div>
                    </button>
                </form>
            </div>
            <!-- OVERLAY -->
            <div class="overlay-container">
                <div class="overlay">
                    <div class="overlay-panel overlay-left">
                        <h1>Welcome Back!</h1>
                        <p>To access the GCM Data Hub, please login with your member ID.</p>
                        <button class="btn ghost" id="signIn">Sign In</button>
                    </div>
                    <div class="overlay-panel overlay-right">
                        <h1>Join the Chamber?</h1>
                        <p>Enter your company details to apply for membership.</p>
                        <button class="btn ghost" id="signUp">Sign Up</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- === VIEW 3: ADVANCED DASHBOARD === -->
    <section id="view-dashboard" class="view hidden-view">
        <div class="dash-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="user-profile">
                    <div class="avatar">JD</div>
                    <div class="user-info">
                        <h4>John Doe</h4>
                        <small>Gold Fields</small>
                    </div>
                </div>
                <ul class="menu">
                    <li class="active" onclick="switchTab(this, 'dash-overview')"><i class="fas fa-chart-pie"></i> Overview</li>
                    <li onclick="switchTab(this, 'dash-reports')"><i class="fas fa-file-alt"></i> Industry Reports</li>
                    <li onclick="switchTab(this, 'dash-members')"><i class="fas fa-users"></i> Directory</li>
                    <li onclick="switchTab(this, 'dash-settings')"><i class="fas fa-cog"></i> Settings</li>
                </ul>
                <button class="logout-btn" onclick="navigateTo('landing')"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </aside>

            <!-- Main Content -->
            <main class="dash-main" id="main-interface">
                <header class="dash-header">
                    <div class="header-text">
                        <h2>COMMAND CENTER</h2>
                        <small style="color:var(--gold); letter-spacing:1px; font-family: 'Rajdhani';">LIVE OMNI-CHANNEL FEED // GCM-SAT-1</small>
                    </div>
                    
                    <div class="tactical-bar">
                        <button class="tac-btn" onclick="toggleMapMode()">
                            <i class="fas fa-globe-africa"></i> GEO-VIEW
                        </button>
                        <button class="tac-btn" onclick="runAiPrediction()">
                            <i class="fas fa-microchip"></i> AI FORECAST
                        </button>
                        <button class="tac-btn danger" onclick="toggleCrisisMode()">
                            <i class="fas fa-radiation"></i> SIMULATE CRISIS
                        </button>
                    </div>
                </header>

                <!-- TAB: OVERVIEW -->
                <div id="dash-overview" class="dash-tab active-tab">
                    
                    <!-- ALERT BANNER -->
                    <div id="crisis-banner" class="crisis-hidden">
                        <i class="fas fa-exclamation-triangle"></i> 
                        SEISMIC ACTIVITY DETECTED IN TARKWA ZONE - PROTOCOL ALPHA INITIATED
                    </div>

                    <div class="stats-grid">
                        <div class="card stat-card">
                            <h3>Gold Output (Oz)</h3>
                            <div class="number" id="live-gold">2,403,102</div>
                            <div class="trend up">▲ LIVE UPDATE</div>
                        </div>
                        <div class="card stat-card">
                            <h3>Grid Load</h3>
                            <div class="number" id="live-grid">89%</div>
                            <div class="trend">Stable</div>
                        </div>
                        <div class="card stat-card">
                            <h3>Workforce Active</h3>
                            <div class="number">14,205</div>
                            <div class="trend up"><i class="fas fa-circle" style="color:#0f0; font-size:10px;"></i> Biometrics OK</div>
                        </div>
                    </div>
                    
                    <!-- THE ADVANCED CHART SECTION -->
                    <div class="card chart-section">
                        <div class="chart-header">
                            <div>
                                <h3>Mining Operations Visualization</h3>
                                <div class="live-indicator"><span class="blink"></span> LIVE FEED</div>
                            </div>
                            <!-- NEW SWITCHER -->
                            <div class="chart-controls">
                                <span style="font-size:10px; color:#aaa; margin-right:10px;">MODE:</span>
                                <button class="mode-btn active" id="btn-bar" onclick="setChartMode('bar')"><i class="fas fa-chart-bar"></i></button>
                                <button class="mode-btn" id="btn-line" onclick="setChartMode('line')"><i class="fas fa-chart-line"></i></button>
                            </div>
                        </div>
                        
                        <!-- CHART WRAPPER -->
                        <div class="visual-wrapper">
                            <!-- Cyber Grid Background -->
                            <div class="cyber-grid"></div>

                            <!-- VIEW 1: BAR CHART -->
                            <div class="chart-view active-chart" id="view-bar">
                                <div class="bar-chart-container" id="bar-container">
                                    <!-- JS Injects Bars Here -->
                                </div>
                            </div>

                            <!-- VIEW 2: LINE CHART (SVG) -->
                            <div class="chart-view hidden-chart" id="view-line">
                                <svg class="line-chart-svg" viewBox="0 0 100 50" preserveAspectRatio="none">
                                    <defs>
                                        <linearGradient id="goldGradient" x1="0" x2="0" y1="0" y2="1">
                                            <stop offset="0%" stop-color="rgba(245, 185, 50, 0.5)"/>
                                            <stop offset="100%" stop-color="rgba(245, 185, 50, 0)"/>
                                        </linearGradient>
                                    </defs>
                                    <!-- Area Path -->
                                    <path id="chart-area" class="area-path" d="" />
                                    <!-- Line Path -->
                                    <path id="chart-line" class="line-path" d="" />
                                </svg>
                            </div>

                            <!-- VIEW 3: MAP (Hidden by default) -->
                            <div class="map-container hidden-view" id="geo-map">
                                <div class="ghana-map">
                                    <div class="mine-dot" style="top:70%; left:30%;" data-tooltip="Tarkwa"></div>
                                    <div class="mine-dot" style="top:60%; left:40%;" data-tooltip="Obuasi"></div>
                                    <div class="mine-dot" style="top:20%; left:20%;" data-tooltip="Ahafo"></div>
                                    <div class="mine-dot" style="top:80%; left:80%;" data-tooltip="Akyem"></div>
                                    <div class="scanner-line"></div>
                                </div>
                                <div class="map-stats">
                                    <p>SATELLITE LINK: <span style="color:#0f0">ACTIVE</span></p>
                                    <p>TERRAIN: <span style="color:var(--gold)">SCANNED</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- OTHER TABS -->
                <div id="dash-reports" class="dash-tab hidden-tab">
                    <div class="card"><h3>Restricted Documents</h3><ul class="doc-list"><li><i class="fas fa-file-pdf"></i> 2025 Q4 Performance Report <button class="btn-sm">Download</button></li></ul></div>
                </div>
                <div id="dash-members" class="dash-tab hidden-tab"><div class="card"><h3>Member Directory Loading...</h3></div></div>
                <div id="dash-settings" class="dash-tab hidden-tab"><div class="card"><h3>Account Settings</h3></div></div>

            </main>
        </div>
    </section>

    <script src="script.js"></script>
</body>
</html>